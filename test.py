inputStr = '21221121111112222122122122211212211111121111220212221112110211210222212221121111121222101221111222112112121011122212212102212122222111121121212111221222211110112202211211222211112212222211112212012212121211121221021212112221111121121201111121122222222221211121220122111211122211211221212122212221221111112201211202222211111211121111221211121111212221101212121021122222210211021122112212222211212021221121222122011121211212112101211121212211121221222221221122111101112121111212122221111121212222221212222112122221121112122122122211110212221221121121210022221101121202101101222121212122222012122121021202112222212102210121222111111222222102122212111121122221121010221221222121202121120212010121212122211112212111211111212221212212212122121121111101212222122211222111102222102112211102112121021211211120120011220111222111222121120212120201102211122111122222122122121212112221201222022111222221222111112221220122221112212221211121212112021222211112111212121222121111101121222112112111221110211222221112122221112012212111212221221212122001222211221121121112211221212222202101121122111121221112212122202222111212221121222212122212112102111111121222122112121202222210121122211122110101212121211012211111222101222112022120120201111211212121222121111221212222011022101221111211111221222211111121220211122221222112222121221122202112221212122101212221122121112121221210221221221212112222221111012221122121221221121221112221122011111212012211221222211112221111211120210121210210222211212221211212202112212200212222010122111221211112122212112222012122101222221112111122122222112111121212111201122201121001211122012221211212112222211212112201121022211211121122122222211111022110212221111212122111212212221212122222121122221121112212221121112110010210122211011222112122121222122211211220112212112222222222121112112201212022212022101110211011021222212102210122121212122102222222122110221222012211202112222111121012122111222212221121021212111222222102122211222211211112212221221202221222111012222112212112121212220222121021221122212210220020221001102211222121112220111212111221211222222121122122212222111222120121221221222222110222211212111120122121112212112222221121222212121121122112211222020212221121110222121121222200121111222022211122021120211111211212211112221222102221112211221221222112222222122221022111112102121012122112210102201221121112111221212212222102111121211022111112121222122102212112212212122121111221221222111111121102011211121022221202201222122111112212212211122101022222122212112111211121211112221120111212211011222122110221202112002201210112112122212211212111122222112212211221211112121122121212111102201212210221221011210111121112121122211101222112221112212211222100112112112120212121201202212222112101212221212212012121121122110211221212211220221211212121112122110201122222222111112211112121122221221112212212212112121012012012122212011220121221122012111212211201121121020222210112222011212111221222112021021211212111221022121212112221121012112112112212222222221211'
balance = 1000
base_amount = 1
current_side = '2'
current_amount = base_amount
count_lose = 0
def toggle_side():
    global current_side
    if current_side == '1':
        current_side = '2'
    else:
        current_side = '1'
def play(bets, turn_index):
    global balance
    result = 'lose'
    for bet in bets:
        balance = balance - bet['amount']
    if balance < 0:
        return False,result
    for bet in bets:
        if bet['side'] == inputStr[turn_index]:
            result = 'win'
            if bet['side'] == '1' or bet['side'] == '2':
                balance = balance + bet['amount'] * 2
            else:
                balance = balance + bet['amount'] * 14
    return True, result

def strategy(turn_index):
    global count_lose
    global current_amount
    bets = [{'amount':current_amount, 'side' : current_side}, {'amount':current_amount/14, 'side' : '0'}]
    canContinuePlay, result = play(bets, turn_index)
    if inputStr[turn_index] in '12':
        if result == 'lose':
            count_lose = count_lose + 1
        else:
            count_lose = count_lose - 1
        if result == 'lose':
            current_amount = current_amount * pow(2, count_lose)
        elif result == 'win':
            current_amount = base_amount
        # if count_lose < 10:
        #     toggle_side()
    return canContinuePlay
for i in range(0,len(inputStr),1):
    if not strategy(i):
        break
print(balance)
print(current_amount)





